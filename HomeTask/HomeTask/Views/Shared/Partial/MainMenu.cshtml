@using System.Collections
@using System.Web.Mvc.Html
@using HomeTask.Models.MainMenu
@model IEnumerable<MenuItem>

<ul class="nav nav-pills">
    @foreach (var item in Model)
{
        <li class="dropdown">
            @if (item.HasSubMenu)
            {
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                    @item.Text
                    <b class="caret"></b></a>
                <ul class="dropdown-menu">
                    @foreach (var subItem in item.SubMenuItems)
                    {
                        <li>
                            @Html.ActionLink(subItem.Text, subItem.Action, subItem.Controller)
                        </li>
                    }
                </ul>
            }
            else
            {
                @Html.ActionLink(item.Text, item.Action, item.Controller, new { @class = item.IsSelected ? "active" : ""})
            }
        </li>
}
</ul>
